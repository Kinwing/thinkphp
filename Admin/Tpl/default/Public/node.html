<TABLE cellpadding=0 cellspacing=0 style="background:url('../Public/images/centerbg.jpg') repeat-y -3px;width:206px;">
<TR>
	<TD valign="top" style="height:22pt;background:url(../Public/images/menubg.gif) no-repeat -1px" ><div style="margin:5px 35px;color:#272727;font-family:Tahoma;font-weight:bold">节点</div>	</TD>
</TR>
<TR >
	<TD align="center"><div style="margin:0px 10px" id="showTree" align="left"></div></TD>
</TR>
</TABLE>
<script language="javascript" type="text/javascript">
<!--
	function setValueById(pObjID,pValue){
		var obj=document.getElementById(pObjID);
		try{
			obj.value=pValue;
		}catch(e){
			//alert("控件："+pObjID+"　不存在，或没有value属性")
		}
	}
	
	function $(pID){
		return document.getElementById(pID);
	}
	
	function getNodeAtt(pNode,pAtt){
		try{
			return pNode.attributes.getNamedItem(pAtt).nodeValue;
		}catch(e){
			alert("前台调试错误：\n"+e.message+"\n当前节点不存在: "+pAtt+"这个属性");
		}
	}
	parm	=	location.href.replace('http://'+location.hostname+'__ACT__','');
	var myTree=new JTree("showTree","__APP__/Node/tree/caption/节点",true);
	myTree.setPicPath("__ROOT__/Public/JTreePic/")
	myTree.onclick=function(){
		if(getNodeAtt(myTree.selectNode,"id")==undefined){
			if (myTree.EXPANDALL == false)
			{
				myTree.expand(true);
			}else {
				myTree.expand(false);
			}
			
		}else {
		window.location = '__APP__/Index/index/channelId/'+getNodeAtt(myTree.selectNode,"level");
		}
	}

	myTree.CAPTIONATT="caption";
	myTree.create();
	
function vControl(pChoice,pParm){
	switch(pChoice){
		case "REPLACE":
			var pattern=/\([0-9]+\)$/;
				return pParm.replace(pattern,"");
			break;
		case "FINDNODE":
			var obj;
			for(var i=0;obj=pParm[i];i++){
				alert(obj.caption);
				if(obj.caption==$("nodeCaption").value)
					obj.click();
			}
			break;
	}
}

function findNode(pTree){
	var obj;
	for(var i=0;obj=pTree[i];i++){
		str = $("nodeCaption").value;
		if(obj.caption.indexOf(str)!='-1'){
			obj.click();
			//obj.parentTreeNode.expand(true)
			myTree.clickItem.parentTreeNode.expand(true);
			return true;
		}
		findNode(obj.treeNodes)
	}
}

-->
</script>